> 一些选填 简答内容

# 一. 操作系统概述

# 操作系统接口

1. 系统调用与用户子程序的区别

   - | **对比项目**     | **系统调用**       | **用户子程序**   |
     | ---------------- | ------------------ | ---------------- |
     | **运行环境**     | 核心态             | 用户态           |
     | **中断**         | 访管中断           | 无               |
     | **与主程序关系** | 与主程序分开、独立 | 同一进程地址空间 |
     | **共享**         | 不同用户可以共享   | 同一进程内部调用 |

# 二. 进程管理

## 2.1 进程与线程

### 进程的定义(特征)

- **动态性**：进程是程序的一次执行过程，是动态地产生、变化和消亡的
  - 最基本的特征

- **并发性**：内存中可以有多个进程实体，各进程可以并发执行

- **独立性**：进程是能独立运行、独立获得资源、独立接受调度的基本单位

- **异步性**：各进程独立运行，需要操作系统提供”进程同步机制”来解决异步问题

- **结构性**：每个进程都有一个PCB（进程控制块），进程由程序段，数据段，PCB组成

## 2.2 处理机调度机制

1. 操作系统中的调度【dsj】

   - **作业调度**: 按照一定的策略, 从后备队列中选择一部分作业, 为他们分配运行所需的必要资源, 创建进程的过程
     - 也叫**宏观调度**, 因为还需要经过进程调度才能真正运行

   - **进程调度**: 按照一定策略, 从就绪进程队列中选择一个进程, 让其占用处理器运行

   - **交换调度**: 选择一部分就绪状态/阻塞状态的进程, 将其从内存中调出, 暂存到外存

   - **设备调度**: 对一组I/O请求进行设备的分配和调度

## 2.4 死锁

### 死锁的四个必要条件

1. **互斥条件**
   - 这组进程中, 每一个进程至少与同组的另一个进程共享一类临界资源
2. **不可剥夺条件**
   - 一个进程在申请新资源得不到满足时, 不能执行其他进程的资源归还操作 (不能抢其他进程的资源)
3. 【王道】**持有并等待条件** 
   【dsj】**请求并保持条件**
   - 进程在申请新资源得不到满足而阻塞时, 对原来申请已经分配得到的资源仍然保持着
4. 【王道】**循环等待条件**
   【dsj】**环路等待条件**
   - 一组进程处于死锁, 可以对这一组进程进行适当排列后, 得到一个**循环等待的环路** 

### 死锁预防

#### 含义

在资源分配上采取一些限制措施,来破坏死锁产生的1个必要条件之一

#### 方法

1. 互斥条件
   - 原则上不能被破坏，打印等个别资源可以采取虚拟技术
2. 不剥夺条件
   - 原则上不能被破坏。
3. 请求与保持条件
   - **静态分配**：对于一个进程, 运行前先申请所需要的全部资源, 如果其中有任意一个资源不能满足, 则此次的申请资源全部不分配
   - **资源暂时释放**：规定进程在申请资源得不到满足而阻塞时，对已经得到的资源全部归还
4. 环路等待条件
   - **按序分配**：对于一组需要限制资源的条件,系统将他们进行编号, 编号间满足可比较(如字符串长度)的关系; 规定一个进程只能申请比他获得资源的编号中更大编号的资源
5. **单请求方式**：规定进程必须将之前已申请的资源全部归还后方可申请新的资源
   - 破坏“请求与保持”条件和“环路等待”条件

# 三. 内存管理

## 内部碎片和外部碎片

1. 概念: 在内存连续分配中，内部碎片是已经被分配出去（能明确指出属于哪个进程）却不能被利用的内存空间；外部碎片指的是还没有被分配出去（不属于任何进程），但由于太小了无法分配给申请内存空间的新进程的内存空闲区域。

2. 各种分配方式
   - 固定分配没有外部碎片，例如：单一连续分配、固定分区分配、分页存储管理(静态&请求)
   - 按需分配没有内部碎片，例如：动态分区分配、**分段存储管理**
   - 段页分配两种碎片都有